<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="yinwoods,yinwoods#163.com"><title>æ·±åº¦ç†è§£git rebase Â· yinwoods</title><meta name="description" content="æ ¹æ®æˆ‘ä»¬çš„éœ€è¦æ”¹å˜å†å²è®°å½•æ˜¯Gitçš„ä¸€é¡¹æ ¸å¿ƒåŠŸèƒ½ï¼Œè¿™é¡¹åŠŸèƒ½ä¸ºæˆ‘ä»¬å¾ˆå¤šå¼ºå¤§çš„å·¥å…·ï¼ŒåŒæ—¶å…è®¸æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨é‡æ„æ¥å®è·µè½¯ä»¶è®¾è®¡åŸåˆ™ã€‚è¿™äº›å·¥å…·å¯¹æ–°æ‰‹ç”šè‡³ä¸­çº§gitç”¨æˆ·æ¥è¯´å¯èƒ½æœ‰ç‚¹å“äººï¼Œä½†æœ¬æ–‡å°†ä¸ºä½ æ­å¼€git-rebaseçš„ç¥ç§˜é¢çº±ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼šé€šå¸¸ä¸å»ºè®®ä¿®æ”¹å…¬å…±çš„ã€å…±äº«çš„æˆ–è€…ç¨³å®šçš„åˆ†æ”¯ã€‚å»ºè®®ç¼–è¾‘ä¸ªäººåˆ†æ”¯"><meta name="keywords" content="Hexo,Linux,Python"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">yinwoods</a></h3><div class="description"><p>To Be A Better Man!ğŸ˜ˆ</p></div></div></div><ul class="social-links"><li><a href="http://weibo.com/yinwoods"><i class="fa fa-weibo"></i></a></li><li><a href="http://facebook.com/yinwoods"><i class="fa fa-facebook"></i></a></li><li><a href="http://github.com/yinwoods"><i class="fa fa-github"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">é¦–é¡µ</a></li><li><a href="/archives">å½’æ¡£</a></li><li><a href="/links">å‹é“¾</a></li><li><a href="/about">å…³äº</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img src="/images/favicon.png"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>æ·±åº¦ç†è§£git rebase</a></h3></div><div class="post-content"><p>æ ¹æ®æˆ‘ä»¬çš„éœ€è¦æ”¹å˜å†å²è®°å½•æ˜¯Gitçš„ä¸€é¡¹æ ¸å¿ƒåŠŸèƒ½ï¼Œè¿™é¡¹åŠŸèƒ½ä¸ºæˆ‘ä»¬å¾ˆå¤šå¼ºå¤§çš„å·¥å…·ï¼ŒåŒæ—¶å…è®¸æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨é‡æ„æ¥å®è·µè½¯ä»¶è®¾è®¡åŸåˆ™ã€‚è¿™äº›å·¥å…·å¯¹æ–°æ‰‹ç”šè‡³ä¸­çº§gitç”¨æˆ·æ¥è¯´å¯èƒ½æœ‰ç‚¹å“äººï¼Œä½†æœ¬æ–‡å°†ä¸ºä½ æ­å¼€<code>git-rebase</code>çš„ç¥ç§˜é¢çº±ã€‚</p>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šé€šå¸¸ä¸å»ºè®®ä¿®æ”¹å…¬å…±çš„ã€å…±äº«çš„æˆ–è€…ç¨³å®šçš„åˆ†æ”¯ã€‚å»ºè®®ç¼–è¾‘ä¸ªäººåˆ†æ”¯ä¸ç‰¹æ€§åˆ†æ”¯ä»¥åŠå°šæœªæ¨é€çš„æäº¤ã€‚git push -fåœ¨ç¼–è¾‘æäº¤åå¼ºåˆ¶å°†æ›´æ”¹æ¨é€åˆ°ä¸ªäººåˆ†æ”¯æˆ–åŠŸèƒ½åˆ†æ”¯åˆ°è¿œç¨‹åˆ†æ”¯ã€‚</p>
</blockquote>
<h2 id="æ„å»ºæ²™ç®±"><a href="#æ„å»ºæ²™ç®±" class="headerlink" title="æ„å»ºæ²™ç®±"></a>æ„å»ºæ²™ç®±</h2><p>ä¸ºäº†ä¸å½±å“åˆ°ä½ ä»»ä½•ç°æœ‰å­˜å‚¨åº“ï¼Œæœ¬æ–‡å°†ä½¿ç”¨æ²™ç®±ä»“åº“ã€‚ä»è¿è¡Œè¿™äº›å‘½ä»¤ä»¥å¼€å§‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git init /tmp/rebase-sandbox</div><div class="line">cd /tmp/rebase-sandbox</div><div class="line">git commit --allow-empty -m&quot;Initial commit&quot; # 1</div></pre></td></tr></table></figure></p>
<p>å¦‚æœé‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¿è¡Œ<code>rm -rf /tmp/rebase-sandbox</code>åˆ é™¤ç°æœ‰çš„æ²™ç®±ä»“åº“å¹¶æŒ‰ç…§ä¸Šè¿°æ­¥éª¤é‡æ–°æ„å»ºæ²™ç®±ä»“åº“å³å¯ï¼Œåç»­æ¯ä¸ªç« èŠ‚çš„å†…å®¹éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå› æ­¤åœ¨æ„å»ºæ²™ç®±ä»“åº“åï¼ŒæŒ‰ç…§æŒ‡å®šç« èŠ‚å†…å®¹ç»§ç»­æ“ä½œå³å¯ï¼Œä¸éœ€è¦é‡æ–°æ‰§è¡Œæ‰€æœ‰ç« èŠ‚çš„æ“ä½œã€‚</p>
<h2 id="ä¿®æ”¹ä¸Šæ¬¡æäº¤"><a href="#ä¿®æ”¹ä¸Šæ¬¡æäº¤" class="headerlink" title="ä¿®æ”¹ä¸Šæ¬¡æäº¤"></a>ä¿®æ”¹ä¸Šæ¬¡æäº¤</h2><p>è®©æˆ‘ä»¬ä»ä»¥ä¸‹æ­¥éª¤å¼€å§‹ï¼šä¿®å¤ä½ æœ€è¿‘ä¸€æ¬¡çš„æäº¤ã€‚</p>
<p>é¦–å…ˆï¼Œæ·»åŠ ä¸€ä¸ªæ–‡ä»¶åˆ°ä»“åº“ä¸­ï¼Œå¹¶çŠ¯ä¸‹ä¸€ä¸ªé”™è¯¯(worldå•è¯æ‹¼é”™)ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">echo &quot;Hello wrold!&quot; &gt;greeting.txt</div><div class="line">git add greeting.txt</div><div class="line">git commit -m&quot;Add greeting.txt&quot;</div></pre></td></tr></table></figure></p>
<p>ä¿®å¤è¿™ä¸ªé”™è¯¯å¾ˆç®€å•ï¼Œåªéœ€è¦é‡æ–°ç¼–è¾‘æ–‡ä»¶ï¼Œå¹¶åœ¨æäº¤æ—¶å¸¦ä¸Š<code>--amend</code>å‚æ•°ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">echo &quot;Hello world!&quot; &gt;greeting.txt</div><div class="line">git commit -a --amend</div></pre></td></tr></table></figure></p>
<p>æŒ‡å®š<code>-a</code>å‚æ•°è‡ªåŠ¨é‡æ–°è¿½è¸ªæ‰€æœ‰gitå·²ç»æäº¤çš„æ–‡ä»¶(åŒï¼š<code>git add&#39;s</code>)ï¼Œ<code>--amend</code>å‚æ•°å°†ä¿®æ”¹å‹ç¼©åˆ°æœ€è¿‘çš„æäº¤ä¸­ã€‚ä¿å­˜å¹¶é€€å‡ºç¼–è¾‘å™¨ï¼ˆå¦‚æœéœ€è¦ï¼Œå¯ä»¥ä¿®æ”¹å¯¹åº”çš„æäº¤ä¿¡æ¯ï¼‰ã€‚ä¹‹åå¯ä»¥é€šè¿‡è¿è¡Œ<code>git show</code>æŸ¥çœ‹ä¿®å¤çš„æäº¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">commit f5f19fbf6d35b2db37dcac3a55289ff9602e4d00 (HEAD -&gt; master)</div><div class="line">Author: Drew DeVault </div><div class="line">Date:   Sun Apr 28 11:09:47 2019 -0400</div><div class="line"></div><div class="line">    Add greeting.txt</div><div class="line"></div><div class="line">diff --git a/greeting.txt b/greeting.txt</div><div class="line">new file mode 100644</div><div class="line">index 0000000..cd08755</div><div class="line">--- /dev/null</div><div class="line">+++ b/greeting.txt</div><div class="line">@@ -0,0 +1 @@</div><div class="line">+Hello world!</div></pre></td></tr></table></figure>
<h2 id="ä¿®å¤æ—§çš„æäº¤"><a href="#ä¿®å¤æ—§çš„æäº¤" class="headerlink" title="ä¿®å¤æ—§çš„æäº¤"></a>ä¿®å¤æ—§çš„æäº¤</h2><p>ä¸Šé¢çš„æ“ä½œåªé€‚ç”¨äºä¿®æ”¹æœ€è¿‘ä¸€æ¬¡çš„æäº¤ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹æ›´ä¹…è¿œçš„æäº¤å†å²è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿé¦–å…ˆæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤è®¾ç½®ä»“åº“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">echo &quot;Hello!&quot; &gt;greeting.txt</div><div class="line">git add greeting.txt</div><div class="line">git commit -m&quot;Add greeting.txt&quot;</div><div class="line"></div><div class="line">echo &quot;Goodbye world!&quot; &gt;farewell.txt</div><div class="line">git add farewell.txt</div><div class="line">git commit -m&quot;Add farewell.txt&quot;</div></pre></td></tr></table></figure>
<p>çœ‹èµ·æ¥greeting.txtä¸­ç¼ºå°‘äº†å•è¯worldï¼Œè®©æˆ‘ä»¬é€šè¿‡æ­£å¸¸æäº¤ä¿®å¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">echo &quot;Hello world!&quot; &gt;greeting.txt</div><div class="line">git commit -a -m&quot;fixup greeting.txt&quot;</div></pre></td></tr></table></figure></p>
<p>ç°åœ¨æ–‡ä»¶çœ‹èµ·æ¥æ˜¯å¯¹çš„äº†ï¼Œä½†æˆ‘ä»¬çš„å†å²æäº¤æ˜¾å¾—æœ‰äº›å•°å—¦ï¼Œç°åœ¨è®©æˆ‘ä»¬é€šè¿‡æ–°æäº¤æ¥ä¿®å¤ä¸Šä¸€ä¸ªæäº¤ï¼Œä¸ºäº†å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œéœ€è¦å¼•å…¥æ–°çš„å·¥å…·ï¼šäº¤äº’å¼rebaseã€‚æˆ‘ä»¬å°†ä»¥è¿™ç§æ–¹å¼ç¼–è¾‘æœ€åä¸‰ä¸ªæäº¤ï¼Œå› æ­¤æˆ‘ä»¬å°†è¿è¡Œgit rebase -i HEAD~3ï¼ˆ-iç”¨äºäº¤äº’å¼ï¼‰ã€‚è¿™ä¼šæ‰“å¼€ä½ çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">pick 8d3fc77 Add greeting.txt</div><div class="line">pick 2a73a77 Add farewell.txt</div><div class="line">pick 0b9d0bb fixup greeting.txt</div><div class="line"></div><div class="line"># Rebase f5f19fb..0b9d0bb onto f5f19fb (3 commands)</div><div class="line">#</div><div class="line"># Commands:</div><div class="line"># p, pick &lt;commit&gt; = use commit</div><div class="line"># f, fixup &lt;commit&gt; = like &quot;squash&quot;, but discard this commit&apos;s log message</div></pre></td></tr></table></figure></p>
<p>è¿™æ˜¯rebaseè®¡åˆ’ï¼Œé€šè¿‡ç¼–è¾‘æ­¤æ–‡ä»¶ï¼Œå¯ä»¥æŒ‡ç¤ºgitå¦‚ä½•ç¼–è¾‘å†å²è®°å½•ã€‚æˆ‘å·²å°†æ‘˜è¦ä¿®æ”¹ä¸ºä¸rebaseæŒ‡å—çš„è¿™ä¸€éƒ¨åˆ†ç›¸å…³çš„è¯¦ç»†ä¿¡æ¯ï¼Œä½†æ‚¨å¯ä»¥éšæ„æµè§ˆæ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„å®Œæ•´æ‘˜è¦ã€‚</p>
<p>å½“æˆ‘ä»¬ä¿å­˜å¹¶å…³é—­æˆ‘ä»¬çš„ç¼–è¾‘å™¨æ—¶ï¼Œgitå°†ä»å…¶å†å²è®°å½•ä¸­åˆ é™¤æ‰€æœ‰è¿™äº›æäº¤ï¼Œç„¶åä¸€æ¬¡æ‰§è¡Œæ¯ä¸€è¡Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå°†é€‰æ‹©æ¯ä¸ªæäº¤ï¼Œä»å †ä¸­å¬å”¤å®ƒå¹¶å°†å…¶æ·»åŠ åˆ°åˆ†æ”¯ã€‚å¦‚æœæˆ‘ä»¬æ ¹æœ¬ä¸ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬æœ€ç»ˆä¼šå›åˆ°æˆ‘ä»¬å¼€å§‹çš„åœ°æ–¹â€”â€”æŒ‰åŸæ ·é€‰æ‹©æ¯ä¸ªæäº¤ã€‚æˆ‘ä»¬ç°åœ¨å°†ä½¿ç”¨æˆ‘æœ€å–œæ¬¢çš„åŠŸèƒ½ä¹‹ä¸€ï¼šfixupã€‚ç¼–è¾‘ç¬¬ä¸‰è¡Œä»¥å°†æ“ä½œä»â€œpickâ€æ›´æ”¹ä¸ºâ€œfixupâ€ï¼Œå¹¶å°†è¯¥è¡Œå†…å®¹ç§»åŠ¨åˆ°æˆ‘ä»¬æƒ³è¦â€œä¿®å¤â€æäº¤çš„ä¸‹ä¸€è¡Œï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">pick 8d3fc77 Add greeting.txt</div><div class="line">fixup 0b9d0bb fixup greeting.txt</div><div class="line">pick 2a73a77 Add farewell.txt</div></pre></td></tr></table></figure></p>
<blockquote>
<p>æç¤ºï¼šæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†å…¶ç¼©å†™ä¸ºâ€œfâ€ï¼Œä»¥ä¾¿ä¸‹æ¬¡åŠ å¿«é€Ÿåº¦ã€‚</p>
</blockquote>
<p>ä¿å­˜å¹¶é€€å‡ºç¼–è¾‘å™¨ - gitå°†è¿è¡Œè¿™äº›å‘½ä»¤ã€‚æˆ‘ä»¬å¯ä»¥æ£€æŸ¥æ—¥å¿—ä»¥éªŒè¯ç»“æœï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git log -2 --oneline</div><div class="line">fcff6ae (HEAD -&gt; master) Add farewell.txt</div><div class="line">a479e94 Add greeting.txt</div></pre></td></tr></table></figure></p>
<h2 id="å°†å‡ ä¸ªæäº¤å‹ç¼©æˆä¸€ä¸ª"><a href="#å°†å‡ ä¸ªæäº¤å‹ç¼©æˆä¸€ä¸ª" class="headerlink" title="å°†å‡ ä¸ªæäº¤å‹ç¼©æˆä¸€ä¸ª"></a>å°†å‡ ä¸ªæäº¤å‹ç¼©æˆä¸€ä¸ª</h2><p>åœ¨ä½ å·¥ä½œæ—¶ï¼Œä½ å¯èƒ½ä¼šå‘ç°åœ¨ä½ è¾¾åˆ°å°å‹é‡Œç¨‹ç¢‘æˆ–ä¿®å¤å…ˆå‰æäº¤ä¸­çš„é”™è¯¯æ—¶ç¼–å†™å¤§é‡æäº¤å¾ˆæœ‰ç”¨ã€‚ä½†æ˜¯åœ¨åˆ°è¾¾é‡Œç¨‹ç¢‘ã€ä¿®å¤å®Œæˆåï¼Œå°†è¿™äº›æäº¤â€œå‹ç¼©â€åœ¨ä¸€èµ·å¯èƒ½ä¼šæ›´æœ‰ç”¨ï¼Œå®ƒå¯ä»¥åœ¨ä½ çš„å·¥ä½œåˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¹‹å‰ä¸ºä½ æä¾›æ›´æ¸…æ™°çš„å†å²è®°å½•ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨â€œsquashâ€æ“ä½œã€‚è®©æˆ‘ä»¬ä»å†™ä¸€å †æäº¤å¼€å§‹ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git checkout -b squash</div><div class="line">for c in H e l l o , ' ' w o r l d; do</div><div class="line">    echo "$c" &gt;&gt;squash.txt</div><div class="line">    git add squash.txt</div><div class="line">    git commit -m"Add '$c' to squash.txt"</div><div class="line">done</div></pre></td></tr></table></figure></p>
<p>è¿™ä¼šåˆ›å»ºå¾ˆå¤šæäº¤ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†ä½¿ç”¨rebaseå°†è¿™äº›æäº¤åˆå¹¶ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬é¦–å…ˆæ£€å‡ºä¸€ä¸ªåˆ†æ”¯ä»¥å°è¯•æ­¤æ“ä½œã€‚å› ä¸ºé€šè¿‡æ£€å‡ºæ–°åˆ†æ”¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>git rebase -i master</code>ç¼–è¾‘masteråˆ†æ”¯çš„æ‰€æœ‰å†å²æäº¤ï¼Œè€Œä¸å†éœ€è¦ä½¿ç”¨<code>git rebase -i $commit</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">pick 1e85199 Add &apos;H&apos; to squash.txt</div><div class="line">pick fff6631 Add &apos;e&apos; to squash.txt</div><div class="line">pick b354c74 Add &apos;l&apos; to squash.txt</div><div class="line">pick 04aaf74 Add &apos;l&apos; to squash.txt</div><div class="line">pick 9b0f720 Add &apos;o&apos; to squash.txt</div><div class="line">pick 66b114d Add &apos;,&apos; to squash.txt</div><div class="line">pick dc158cd Add &apos; &apos; to squash.txt</div><div class="line">pick dfcf9d6 Add &apos;w&apos; to squash.txt</div><div class="line">pick 7a85f34 Add &apos;o&apos; to squash.txt</div><div class="line">pick c275c27 Add &apos;r&apos; to squash.txt</div><div class="line">pick a513fd1 Add &apos;l&apos; to squash.txt</div><div class="line">pick 6b608ae Add &apos;d&apos; to squash.txt</div><div class="line"></div><div class="line"># Rebase 1af1b46..6b608ae onto 1af1b46 (12 commands)</div><div class="line">#</div><div class="line"># Commands:</div><div class="line"># p, pick &lt;commit&gt; = use commit</div><div class="line"># s, squash &lt;commit&gt; = use commit, but meld into previous commit</div></pre></td></tr></table></figure>
<blockquote>
<p>æç¤ºï¼šä½ çš„æœ¬åœ°ä¸»åˆ†æ”¯ç‹¬ç«‹äºè¿œç¨‹ä¸»åˆ†æ”¯ï¼Œgitå°†è¿œç¨‹åˆ†æ”¯å­˜å‚¨ä¸º origin/masterã€‚ç»“åˆè¿™ä¸ªæŠ€å·§ï¼Œgit rebase -i origin/masteré€šå¸¸æ˜¯ä¸€ç§éå¸¸æ–¹ä¾¿çš„æ–¹æ³•æ¥ä¿®æ”¹å°šæœªåˆå¹¶åˆ°ä¸Šæ¸¸çš„æ‰€æœ‰æäº¤ï¼</p>
</blockquote>
<p>æˆ‘ä»¬è¦å°†æ‰€æœ‰æäº¤å‹ç¼©åˆ°ç¬¬ä¸€æ¬¡æäº¤ä¸­ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œå°†æ¯ä¸ªâ€œpickâ€æ“ä½œæ›´æ”¹ä¸ºâ€œsquashâ€ï¼Œç¬¬ä¸€è¡Œé™¤å¤–ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">pick 1e85199 Add &apos;H&apos; to squash.txt</div><div class="line">squash fff6631 Add &apos;e&apos; to squash.txt</div><div class="line">squash b354c74 Add &apos;l&apos; to squash.txt</div><div class="line">squash 04aaf74 Add &apos;l&apos; to squash.txt</div><div class="line">squash 9b0f720 Add &apos;o&apos; to squash.txt</div><div class="line">squash 66b114d Add &apos;,&apos; to squash.txt</div><div class="line">squash dc158cd Add &apos; &apos; to squash.txt</div><div class="line">squash dfcf9d6 Add &apos;w&apos; to squash.txt</div><div class="line">squash 7a85f34 Add &apos;o&apos; to squash.txt</div><div class="line">squash c275c27 Add &apos;r&apos; to squash.txt</div><div class="line">squash a513fd1 Add &apos;l&apos; to squash.txt</div><div class="line">squash 6b608ae Add &apos;d&apos; to squash.txt</div></pre></td></tr></table></figure></p>
<p>å½“ä½ ä¿å­˜å¹¶å…³é—­ç¼–è¾‘å™¨æ—¶ï¼Œgitä¼šæ ¹æ®ä¸Šè¿°ä¿®æ”¹é‡æ–°è®¡ç®—æäº¤ä¿¡æ¯ï¼Œç„¶åå†æ¬¡æ‰“å¼€ç¼–è¾‘å™¨ä»¥ä¾›ä½ ä¿®æ”¹æœ€ç»ˆçš„æäº¤æ¶ˆæ¯ã€‚ä½ ä¼šçœ‹åˆ°ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line"># This is a combination of 12 commits.</div><div class="line"># This is the 1st commit message:</div><div class="line"></div><div class="line">Add &apos;H&apos; to squash.txt</div><div class="line"></div><div class="line"># This is the commit message #2:</div><div class="line"></div><div class="line">Add &apos;e&apos; to squash.txt</div><div class="line"></div><div class="line"># This is the commit message #3:</div><div class="line"></div><div class="line">Add &apos;l&apos; to squash.txt</div><div class="line"></div><div class="line"># This is the commit message #4:</div><div class="line"></div><div class="line">Add &apos;l&apos; to squash.txt</div><div class="line"></div><div class="line"># This is the commit message #5:</div><div class="line"></div><div class="line">Add &apos;o&apos; to squash.txt</div><div class="line"></div><div class="line"># This is the commit message #6:</div><div class="line"></div><div class="line">Add &apos;,&apos; to squash.txt</div><div class="line"></div><div class="line"># This is the commit message #7:</div><div class="line"></div><div class="line">Add &apos; &apos; to squash.txt</div><div class="line"></div><div class="line"># This is the commit message #8:</div><div class="line"></div><div class="line">Add &apos;w&apos; to squash.txt</div><div class="line"></div><div class="line"># This is the commit message #9:</div><div class="line"></div><div class="line">Add &apos;o&apos; to squash.txt</div><div class="line"></div><div class="line"># This is the commit message #10:</div><div class="line"></div><div class="line">Add &apos;r&apos; to squash.txt</div><div class="line"></div><div class="line"># This is the commit message #11:</div><div class="line"></div><div class="line">Add &apos;l&apos; to squash.txt</div><div class="line"></div><div class="line"># This is the commit message #12:</div><div class="line"></div><div class="line">Add &apos;d&apos; to squash.txt</div><div class="line"></div><div class="line"># Please enter the commit message for your changes. Lines starting</div><div class="line"># with &apos;#&apos; will be ignored, and an empty message aborts the commit.</div><div class="line">#</div><div class="line"># Date:      Sun Apr 28 14:21:56 2019 -0400</div><div class="line">#</div><div class="line"># interactive rebase in progress; onto 1af1b46</div><div class="line"># Last commands done (12 commands done):</div><div class="line">#    squash a513fd1 Add &apos;l&apos; to squash.txt</div><div class="line">#    squash 6b608ae Add &apos;d&apos; to squash.txt</div><div class="line"># No commands remaining.</div><div class="line"># You are currently rebasing branch &apos;squash&apos; on &apos;1af1b46&apos;.</div><div class="line">#</div><div class="line"># Changes to be committed:</div><div class="line">#	new file:   squash.txt</div></pre></td></tr></table></figure></p>
<p>gité»˜è®¤å°†æ‰€æœ‰çš„æäº¤ä¿¡æ¯ç»„åˆï¼Œä½†æ˜¯ä¿ç•™è¿™æ ·çš„æ¶ˆæ¯ä¸å¤ªå¯èƒ½æ˜¯ä½ æƒ³è¦çš„ã€‚ä½†æ˜¯ï¼Œæ—§çš„æäº¤æ¶ˆæ¯èƒ½å¤Ÿä¸ºç¼–å†™æ–°æäº¤ä¿¡æ¯æä¾›å‚è€ƒã€‚</p>
<blockquote>
<p>æç¤ºï¼šæ‚¨åœ¨ä¸Šä¸€èŠ‚ä¸­äº†è§£åˆ°çš„â€œfixupâ€å‘½ä»¤ä¹Ÿå¯ä»¥ç”¨äºæ­¤ç›®çš„ - ä½†å®ƒä¼šä¸¢å¼ƒå‹ç¼©æäº¤çš„æ¶ˆæ¯ã€‚</p>
</blockquote>
<p>è®©æˆ‘ä»¬åˆ é™¤æ‰€æœ‰å†…å®¹å¹¶ç”¨æ›´å¥½çš„æäº¤æ¶ˆæ¯æ›¿æ¢å®ƒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">Add squash.txt with contents &quot;Hello, world&quot;</div><div class="line"></div><div class="line"># Please enter the commit message for your changes. Lines starting</div><div class="line"># with &apos;#&apos; will be ignored, and an empty message aborts the commit.</div><div class="line">#</div><div class="line"># Date:      Sun Apr 28 14:21:56 2019 -0400</div><div class="line">#</div><div class="line"># interactive rebase in progress; onto 1af1b46</div><div class="line"># Last commands done (12 commands done):</div><div class="line">#    squash a513fd1 Add &apos;l&apos; to squash.txt</div><div class="line">#    squash 6b608ae Add &apos;d&apos; to squash.txt</div><div class="line"># No commands remaining.</div><div class="line"># You are currently rebasing branch &apos;squash&apos; on &apos;1af1b46&apos;.</div><div class="line">#</div><div class="line"># Changes to be committed:</div><div class="line">#	new file:   squash.txt</div></pre></td></tr></table></figure></p>
<p>ä¿å­˜å¹¶é€€å‡ºç¼–è¾‘å™¨ï¼Œç„¶åæ£€æŸ¥ä½ çš„gitæ—¥å¿— - æˆåŠŸï¼<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">commit c785f476c7dff76f21ce2cad7c51cf2af00a44b6 (HEAD -&gt; squash)</div><div class="line">Author: Drew DeVault </div><div class="line">Date:   Sun Apr 28 14:21:56 2019 -0400</div><div class="line"></div><div class="line">    Add squash.txt with contents &quot;Hello, world&quot;</div></pre></td></tr></table></figure></p>
<p>åœ¨ç»§ç»­ä¸‹ä¸€æ­¥æ“ä½œä¹‹å‰ï¼Œè®©æˆ‘ä»¬å°†æˆ‘ä»¬çš„æ›´æ”¹å¹¶å…¥ä¸»åˆ†æ”¯å¹¶åˆ é™¤è¯¥åˆ†æ”¯ã€‚æˆ‘ä»¬å¯ä»¥åƒä½¿ç”¨git mergeä¸€æ ·ä½¿ç”¨git rebaseï¼Œä½†ç›¸æ¯”äºgit mergeï¼Œgit rebaseé¿å…äº†åˆå¹¶æäº¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git checkout master</div><div class="line">git rebase squash</div><div class="line">git branch -D squash</div></pre></td></tr></table></figure></p>
<p>é™¤éæˆ‘ä»¬å®é™…ä¸Šåˆå¹¶ä¸ç›¸å…³çš„å†å²ï¼Œå¦åˆ™æˆ‘ä»¬é€šå¸¸ä¼šé¿å…ä½¿ç”¨git mergeã€‚å¦‚æœä½ æœ‰ä¸¤ä¸ªä¸åŒçš„åˆ†æ”¯ï¼Œgit mergeå¯¹äºè®°å½•å®ƒä»¬ä½•æ—¶è¢«åˆå¹¶æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚åœ¨æ­£å¸¸å·¥ä½œè¿‡ç¨‹ä¸­ï¼Œrebaseé€šå¸¸æ›´åˆé€‚ã€‚</p>
<h1 id="å°†ä¸€ä¸ªæäº¤æ‹†åˆ†ä¸ºå¤šä¸ª"><a href="#å°†ä¸€ä¸ªæäº¤æ‹†åˆ†ä¸ºå¤šä¸ª" class="headerlink" title="å°†ä¸€ä¸ªæäº¤æ‹†åˆ†ä¸ºå¤šä¸ª"></a>å°†ä¸€ä¸ªæäº¤æ‹†åˆ†ä¸ºå¤šä¸ª</h1><p>æœ‰æ—¶ä¼šå‘ç”Ÿç›¸åçš„é—®é¢˜ - ä¸€æ¬¡æäº¤å¤ªå¤§äº†ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å°†å®ƒæ‹†åˆ†å¼€ã€‚è¿™ä¸€æ¬¡ï¼Œè®©æˆ‘ä»¬å†™ä¸€äº›å®é™…çš„ä»£ç ã€‚ä»ç®€å•çš„Cç¨‹åºå¼€å§‹ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">cat &lt;&lt;EOF &gt;main.c</div><div class="line">int main(int argc, char *argv[]) &#123;</div><div class="line">    return 0;</div><div class="line">&#125;</div><div class="line">EOF</div></pre></td></tr></table></figure></p>
<p>æ¥ç€æäº¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git add main.c</div><div class="line">git commit -m&quot;Add C program skeleton&quot;</div></pre></td></tr></table></figure></p>
<p>ä¹‹åï¼Œå†å°è¯•æ‰©å±•ç¨‹åºï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">cat &lt;&lt;EOF &gt;main.c</div><div class="line"><span class="meta">#</span><span class="bash">include &lt;stdio.h&gt;</span></div><div class="line"></div><div class="line">const char *get_name() &#123;</div><div class="line">    static char buf[128];</div><div class="line">    scanf("%s", buf);</div><div class="line">    return buf;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(int argc, char *argv[]) &#123;</div><div class="line">    printf("What's your name? ");</div><div class="line">    const char *name = get_name();</div><div class="line">    printf("Hello, %s!\n", name);</div><div class="line">    return 0;</div><div class="line">&#125;</div><div class="line">EOF</div></pre></td></tr></table></figure></p>
<p>å†æ¬¡æäº¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git commit -a -m&quot;Flesh out C program&quot;</div></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†å°è¯•æ‹†åˆ†gitæäº¤ï¼š<br>ç¬¬ä¸€æ­¥æ˜¯å¯åŠ¨äº¤äº’å¼rebaseã€‚è®©æˆ‘ä»¬é€šè¿‡æ‰§è¡Œ<code>git rebase -i HEAD~2</code>rebaseä¸¤æ¬¡æäº¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">pick 237b246 Add C program skeleton</div><div class="line">pick b3f188b Flesh out C program</div><div class="line"></div><div class="line"># Rebase c785f47..b3f188b onto c785f47 (2 commands)</div><div class="line">#</div><div class="line"># Commands:</div><div class="line"># p, pick &lt;commit&gt; = use commit</div><div class="line"># e, edit &lt;commit&gt; = use commit, but stop for amending</div></pre></td></tr></table></figure></p>
<p>å°†ç¬¬äºŒä¸ªæäº¤çš„å‘½ä»¤ä»â€œpickâ€æ›´æ”¹ä¸ºâ€œeditâ€ï¼Œä¿å­˜å¹¶å…³é—­ç¼–è¾‘å™¨ã€‚Gitä¼šè®¡ç®—ä¸€ç§’ï¼Œç„¶åå±•ç¤ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Stopped at b3f188b...  Flesh out C program</div><div class="line">You can amend the commit now, with</div><div class="line"></div><div class="line">  git commit --amend</div><div class="line"></div><div class="line">Once you are satisfied with your changes, run</div><div class="line"></div><div class="line">  git rebase --continue</div></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä¸Šè¿°è¯´æ˜ä¸ºæäº¤æ·»åŠ æ–°çš„æ›´æ”¹ï¼Œä½†è¿™é‡Œæˆ‘ä»¬é€šè¿‡è¿è¡Œ<code>git reset HEAD^</code>æ¥æ‰§è¡Œâ€œè½¯é‡ç½®â€ ã€‚å¦‚æœåœ¨æ­¤ä¹‹åè¿è¡Œ<code>git status</code>ï¼Œæ‚¨å°†çœ‹åˆ°å®ƒå–æ¶ˆæœ€æ–°æäº¤å¹¶å°†å…¶æ›´æ”¹æ·»åŠ åˆ°å·¥ä½œæ ‘ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">Last commands done (2 commands done):</div><div class="line">   pick 237b246 Add C program skeleton</div><div class="line">   edit b3f188b Flesh out C program</div><div class="line">No commands remaining.</div><div class="line">You are currently splitting a commit while rebasing branch &apos;master&apos; on &apos;c785f47&apos;.</div><div class="line">  (Once your working directory is clean, run &quot;git rebase --continue&quot;)</div><div class="line"></div><div class="line">Changes not staged for commit:</div><div class="line">  (use &quot;git add ...&quot; to update what will be committed)</div><div class="line">  (use &quot;git checkout -- ...&quot; to discard changes in working directory)</div><div class="line"></div><div class="line">  modified:   main.c</div><div class="line"></div><div class="line">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</div></pre></td></tr></table></figure></p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°†è¿›è¡Œäº¤äº’å¼æäº¤ã€‚è¿™å…è®¸æˆ‘ä»¬æœ‰é€‰æ‹©åœ°ä»…æäº¤å·¥ä½œæ ‘ä¸­çš„ç‰¹å®šæ›´æ”¹ã€‚è¿è¡Œgit commit -pä»¥å¯åŠ¨æ­¤è¿‡ç¨‹ï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹æç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">diff --git a/main.c b/main.c</div><div class="line">index b1d9c2c..3463610 100644</div><div class="line">--- a/main.c</div><div class="line">+++ b/main.c</div><div class="line">@@ -1,3 +1,14 @@</div><div class="line">+#include &lt;stdio.h&gt;</div><div class="line">+</div><div class="line">+const char *get_name() &#123;</div><div class="line">+    static char buf[128];</div><div class="line">+    scanf(&quot;%s&quot;, buf);</div><div class="line">+    return buf;</div><div class="line">+&#125;</div><div class="line">+</div><div class="line"> int main(int argc, char *argv[]) &#123;</div><div class="line">+    printf(&quot;What&apos;s your name? &quot;);</div><div class="line">+    const char *name = get_name();</div><div class="line">+    printf(&quot;Hello, %s!\n&quot;, name);</div><div class="line">     return 0;</div><div class="line"> &#125;</div><div class="line">Stage this hunk [y,n,q,a,d,s,e,?]?</div></pre></td></tr></table></figure>
<p>Gitä¸ºæ‚¨æä¾›äº†ä¸€ä¸ªâ€œhunkâ€ï¼ˆå³å•ä¸ªæ›´æ”¹ï¼‰æ¥è€ƒè™‘æäº¤ã€‚ä½†æ˜¯è¿™ä¸ªå¤ªå¤§äº† - è®©æˆ‘ä»¬ä½¿ç”¨â€œsâ€å‘½ä»¤å°†å¤§å—â€œæ‹†åˆ†â€æˆæ›´å°çš„æäº¤ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">Split into 2 hunks.</div><div class="line">@@ -1 +1,9 @@</div><div class="line">+#include &lt;stdio.h&gt;</div><div class="line">+</div><div class="line">+const char *get_name() &#123;</div><div class="line">+    static char buf[128];</div><div class="line">+    scanf(&quot;%s&quot;, buf);</div><div class="line">+    return buf;</div><div class="line">+&#125;</div><div class="line">+</div><div class="line"> int main(int argc, char *argv[]) &#123;</div><div class="line">Stage this hunk [y,n,q,a,d,j,J,g,/,e,?]?</div></pre></td></tr></table></figure></p>
<blockquote>
<p>æç¤ºï¼šå¦‚æœä½ å¯¹å…¶ä»–é€‰é¡¹æ„Ÿåˆ°å¥½å¥‡ï¼Œè¯·æŒ‰â€œï¼Ÿâ€ æŸ¥çœ‹ç›¸å…³è¯´æ˜ã€‚<br>Tip: If youâ€™re curious about the other options, press â€œ?â€ to summarize them.</p>
</blockquote>
<p>è¿™ä¸ªhunkä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ï¼Œè‡ªè¶³çš„å˜åŒ–ï¼Œçœ‹èµ·æ¥æ›´å¥½ã€‚è®©æˆ‘ä»¬ç‚¹å‡»â€œyâ€æ¥å›ç­”é—®é¢˜ï¼ˆä»¥åŠâ€œhunkâ€çš„é˜¶æ®µï¼‰ï¼Œç„¶åç‚¹å‡»â€œqâ€ä»¥â€œé€€å‡ºâ€äº¤äº’å¼ä¼šè¯å¹¶ç»§ç»­æäº¤ã€‚æ‚¨çš„ç¼–è¾‘å™¨ä¼šå¼¹å‡ºï¼Œè¦æ±‚æ‚¨è¾“å…¥åˆé€‚çš„æäº¤æ¶ˆæ¯ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">Add get_name function to C program</div><div class="line"></div><div class="line"># Please enter the commit message for your changes. Lines starting</div><div class="line"># with &apos;#&apos; will be ignored, and an empty message aborts the commit.</div><div class="line">#</div><div class="line"># interactive rebase in progress; onto c785f47</div><div class="line"># Last commands done (2 commands done):</div><div class="line">#    pick 237b246 Add C program skeleton</div><div class="line">#    edit b3f188b Flesh out C program</div><div class="line"># No commands remaining.</div><div class="line"># You are currently splitting a commit while rebasing branch &apos;master&apos; on &apos;c785f47&apos;.</div><div class="line">#</div><div class="line"># Changes to be committed:</div><div class="line">#	modified:   main.c</div><div class="line">#</div><div class="line"># Changes not staged for commit:</div><div class="line">#	modified:   main.c</div><div class="line">#</div></pre></td></tr></table></figure></p>
<p>ä¿å­˜å¹¶å…³é—­ç¼–è¾‘å™¨ï¼Œç„¶åæˆ‘ä»¬å°†è¿›è¡Œç¬¬äºŒæ¬¡æäº¤ã€‚æˆ‘ä»¬å¯ä»¥åšå¦ä¸€ä¸ªäº¤äº’å¼æäº¤ï¼Œä½†ç”±äºæˆ‘ä»¬åªæƒ³åœ¨æ­¤æäº¤ä¸­åŒ…å«å…¶ä½™çš„æ›´æ”¹ï¼Œæˆ‘ä»¬å°†æ‰§è¡Œæ­¤æ“ä½œï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git commit -a -m&quot;Prompt user for their name&quot;</div><div class="line">git rebase --continue</div></pre></td></tr></table></figure></p>
<p>æœ€åä¸€ä¸ªå‘½ä»¤å‘Šè¯‰gitæˆ‘ä»¬å·²å®Œæˆç¼–è¾‘æ­¤æäº¤ï¼Œå¹¶ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªrebaseå‘½ä»¤ã€‚è¿è¡Œ<code>git log</code>çœ‹çœ‹ä½ çš„åŠ³åŠ¨æˆæœï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git log -3 --oneline</div><div class="line">fe19cc3 (HEAD -&gt; master) Prompt user for their name</div><div class="line">659a489 Add get_name function to C program</div><div class="line">237b246 Add C program skeleton</div></pre></td></tr></table></figure></p>
<h1 id="å¯¹æäº¤é‡æ–°æ’åº"><a href="#å¯¹æäº¤é‡æ–°æ’åº" class="headerlink" title="å¯¹æäº¤é‡æ–°æ’åº"></a>å¯¹æäº¤é‡æ–°æ’åº</h1><p>è¿™éƒ¨åˆ†æ¯”è¾ƒç®€å•ã€‚è®©æˆ‘ä»¬ä»ä»¥ä¸‹æ“ä½œå¼€å§‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">echo &quot;Goodbye now!&quot; &gt;farewell.txt</div><div class="line">git add farewell.txt</div><div class="line">git commit -m&quot;Add farewell.txt&quot;</div><div class="line"></div><div class="line">echo &quot;Hello there!&quot; &gt;greeting.txt</div><div class="line">git add greeting.txt</div><div class="line">git commit -m&quot;Add greeting.txt&quot;</div><div class="line"></div><div class="line">echo &quot;How&apos;re you doing?&quot; &gt;inquiry.txt</div><div class="line">git add inquiry.txt</div><div class="line">git commit -m&quot;Add inquiry.txt&quot;</div></pre></td></tr></table></figure>
<p>gitæ—¥å¿—ç°åœ¨çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">f03baa5 (HEAD -&gt; master) Add inquiry.txt</div><div class="line">a4cebf7 Add greeting.txt</div><div class="line">90bb015 Add farewell.txt</div></pre></td></tr></table></figure></p>
<p>æ˜¾ç„¶ï¼Œé¡ºåºæ˜¯ä¸å¯¹çš„ã€‚è®©æˆ‘ä»¬å¯¹è¿‡å»3æ¬¡æäº¤è¿›è¡Œäº¤äº’å¼å˜æ›´ä»¥è§£å†³æ­¤é—®é¢˜ã€‚è¿è¡Œ<code>git rebase -i HEAD~3</code>ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">pick 90bb015 Add farewell.txt</div><div class="line">pick a4cebf7 Add greeting.txt</div><div class="line">pick f03baa5 Add inquiry.txt</div><div class="line"></div><div class="line"># Rebase fe19cc3..f03baa5 onto fe19cc3 (3 commands)</div><div class="line">#</div><div class="line"># Commands:</div><div class="line"># p, pick &lt;commit&gt; = use commit</div><div class="line">#</div><div class="line"># These lines can be re-ordered; they are executed from top to bottom.</div></pre></td></tr></table></figure></p>
<p>ä¿®å¤ç°åœ¨å¾ˆç®€å•ï¼šåªéœ€æŒ‰ç…§å¸Œæœ›æäº¤çš„é¡ºåºé‡æ–°æ’åˆ—è¿™äº›è¡Œï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">pick a4cebf7 Add greeting.txt</div><div class="line">pick f03baa5 Add inquiry.txt</div><div class="line">pick 90bb015 Add farewell.txt</div></pre></td></tr></table></figure></p>
<p>ä¿å­˜å¹¶å…³é—­æ‚¨çš„ç¼–è¾‘å™¨ï¼Œgitå°†ä¸ºæ‚¨å®Œæˆå‰©ä¸‹çš„å·¥ä½œã€‚</p>
<h2 id="git-pull-â€“rebase"><a href="#git-pull-â€“rebase" class="headerlink" title="git pull â€“rebase"></a>git pull â€“rebase</h2><p>å¦‚æœæ‚¨åœ¨å·²ç»ä¸Šæ¸¸æ›´æ–°çš„åˆ†æ”¯ä¸Šç¼–å†™äº†ä¸€äº›æäº¤ï¼Œé€šå¸¸git pullä¼šåˆ›å»ºä¸€ä¸ªåˆå¹¶æäº¤ã€‚åœ¨è¿™æ–¹é¢ï¼Œgit pullé»˜è®¤æƒ…å†µä¸‹çš„è¡Œä¸ºç›¸å½“äºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git fetch origin</div><div class="line">git merge origin/master</div></pre></td></tr></table></figure></p>
<p>è¿˜æœ‰å¦ä¸€ç§é€‰æ‹©ï¼Œä¸”å®ƒé€šå¸¸æ›´æœ‰ç”¨ï¼Œèƒ½å¤Ÿå¸¦æ¥æ›´æ¸…æ™°çš„å†å²ï¼šgit pull â€“rebaseã€‚ä¸åˆå¹¶æ–¹æ³•ä¸åŒï¼Œè¿™ç›¸å½“äºä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git fetch origin</div><div class="line">git rebase origin/master</div></pre></td></tr></table></figure></p>
<p>mergeæ–¹æ³•æ›´ç®€å•ï¼Œæ›´å®¹æ˜“ç†è§£ï¼Œä½†å¦‚æœæ‚¨äº†è§£å¦‚ä½•ä½¿ç”¨git rebaseï¼Œåˆ™rebaseæ–¹æ³•å‡ ä¹æ€»æ˜¯æ‚¨æƒ³è¦åšçš„ã€‚å¦‚æœæ‚¨æ„¿æ„ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºé»˜è®¤è¡Œä¸ºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git config --global pull.rebase true</div></pre></td></tr></table></figure></p>
<p>å½“ä½ è¿™æ ·åšæ—¶ï¼Œä»æŠ€æœ¯ä¸Šè®²ï¼Œä½ æ­£åœ¨åº”ç”¨æˆ‘ä»¬åœ¨ä¸‹ä¸€èŠ‚è®¨è®ºçš„ç¨‹åºâ€¦â€¦æ‰€ä»¥è®©æˆ‘ä»¬è§£é‡Šä¸€ä¸‹æ•…æ„è¿™æ ·åšçš„æ„ä¹‰ã€‚</p>
<h2 id="ä½¿ç”¨git-rebaseæ¥â€¦-rebase"><a href="#ä½¿ç”¨git-rebaseæ¥â€¦-rebase" class="headerlink" title="ä½¿ç”¨git rebaseæ¥â€¦ rebase"></a>ä½¿ç”¨git rebaseæ¥â€¦ rebase</h2><p>å‡è®¾æ‚¨æœ‰ä»¥ä¸‹åˆ†æ”¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">A  -  B  -  C  -  D  - &gt;master</div><div class="line">   \  -  E  -  F  - &gt; feature-1</div><div class="line">      \  -  G  - &gt;feature-2</div></pre></td></tr></table></figure></p>
<p>å¯ä»¥çœ‹å‡ºï¼šfeature-2ä¸ä¾èµ–äºfeature-1ä¸­çš„ä»»ä½•æ›´æ”¹ï¼Œå³åœ¨æäº¤Eä¸Šï¼Œå› æ­¤æ‚¨å¯ä»¥å°†å…¶åŸºäºmasterã€‚å› æ­¤ä¿®å¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git rebase --onto master feature-1 feature-2</div></pre></td></tr></table></figure></p>
<p>éäº¤äº’å¼rebaseå¯¹æ‰€æœ‰æ¶‰åŠçš„æäº¤ï¼ˆâ€œpickâ€ï¼‰æ‰§è¡Œé»˜è®¤æ“ä½œï¼Œå®ƒåªæ˜¯é‡æ”¾feature-2ä¸­ä¸åœ¨masteråŸºç¡€ä¸Šçš„feature-1ä¸­çš„æäº¤ã€‚æ‚¨çš„å†å²ç°åœ¨çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">A  -  B  -  C  -  D  - &gt;master</div><div class="line">   | \  -  G  - &gt;feature-2</div><div class="line">   \  -  E  -  F  - &gt; feature-1</div></pre></td></tr></table></figure>
<h2 id="è§£å†³å†²çª"><a href="#è§£å†³å†²çª" class="headerlink" title="è§£å†³å†²çª"></a>è§£å†³å†²çª</h2><p>æœ‰å…³è§£å†³åˆå¹¶å†²çªçš„è¯¦ç»†ä¿¡æ¯è¶…å‡ºäº†æœ¬æ–‡çš„èŒƒå›´ - è¯·ç•™æ„æœªæ¥çš„å…¶ä»–æŒ‡å—ã€‚å‡è®¾æ‚¨ç†Ÿæ‚‰ä¸€èˆ¬è§£å†³å†²çªï¼Œä»¥ä¸‹æ˜¯é€‚ç”¨äºå˜åŸºçš„ç»†èŠ‚ã€‚</p>
<p>æœ‰æ—¶ä½ åœ¨åšä¸€ä¸ªrebaseæ—¶ä¼šé‡åˆ°åˆå¹¶å†²çªï¼Œä½ å¯ä»¥åƒä»»ä½•å…¶ä»–åˆå¹¶å†²çªä¸€æ ·å¤„ç†å®ƒã€‚Gitå°†åœ¨å—å½±å“çš„æ–‡ä»¶ä¸­è®¾ç½®å†²çªæ ‡è®°ï¼Œ<code>git status</code>å‘æ‚¨æ˜¾ç¤ºéœ€è¦è§£å†³çš„å†…å®¹ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨<code>git add</code>æˆ–<code>git rm</code>æ ‡è®°å·²è§£æçš„æ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œåœ¨<code>git rebaseçš„ä¸Šä¸‹æ–‡ä¸­</code>ï¼Œæ‚¨åº”è¯¥æ³¨æ„ä¸¤ä¸ªé€‰é¡¹ã€‚</p>
<p>ç¬¬ä¸€ä¸ªæ˜¯å¦‚ä½•å®Œæˆå†²çªè§£å†³ï¼Œä½¿ç”¨<code>git rebase --continue</code>ã€‚ä½†æ˜¯ï¼Œè¿˜æœ‰å¦ä¸€ç§é€‰æ‹©ï¼š<code>git rebase --skip</code>ã€‚è¿™å°†è·³è¿‡æ‚¨æ­£åœ¨å¤„ç†çš„æäº¤ï¼Œå¹¶ä¸”å®ƒä¸ä¼šåŒ…å«åœ¨rebaseä¸­ã€‚è¿™åœ¨æ‰§è¡Œéäº¤äº’å¼rebaseæ—¶æœ€å¸¸è§ï¼Œå½“gitæ²¡æœ‰æ„è¯†åˆ°å®ƒä»â€œå…¶ä»–â€åˆ†æ”¯ä¸­æå–çš„æäº¤æ˜¯å®ƒåœ¨â€œæˆ‘çš„â€åˆ†æ”¯ä¸Šä¸ä¹‹å†²çªçš„æäº¤çš„æ›´æ–°ç‰ˆæœ¬ã€‚ </p>
<h2 id="æ•‘å‘½ï¼æˆ‘æ‰“ç ´äº†å®ƒï¼"><a href="#æ•‘å‘½ï¼æˆ‘æ‰“ç ´äº†å®ƒï¼" class="headerlink" title="æ•‘å‘½ï¼æˆ‘æ‰“ç ´äº†å®ƒï¼"></a>æ•‘å‘½ï¼æˆ‘æ‰“ç ´äº†å®ƒï¼</h2><p>æ¯«æ— ç–‘é—® - æœ‰æ—¶å€™å˜åŸºå¾ˆéš¾ã€‚å¦‚æœä½ çŠ¯äº†ä¸€ä¸ªé”™è¯¯å¹¶ä¸”è¿™æ ·åšäº†ä½ éœ€è¦çš„é—å¤±ï¼Œé‚£ä¹ˆ<code>git reflog</code>å¯ä»¥æŒ½æ•‘ä½ ã€‚è¿è¡Œæ­¤å‘½ä»¤å°†æ˜¾ç¤ºæ›´æ”¹refæˆ–å¼•ç”¨çš„æ¯ä¸ªæ“ä½œ- å³åˆ†æ”¯å’Œæ ‡è®°ã€‚æ¯è¡Œæ˜¾ç¤ºæ—§å‚è€ƒçš„æŒ‡å‘ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>git cherry-pick</code>ï¼Œ<code>git checkout</code>ï¼Œ<code>git show</code>ï¼Œæˆ–ä½¿ç”¨ä»»ä½•å…¶ä»–æ“ä½œã€‚</p>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://git-rebase.io/" target="_blank" rel="external">git rebase in depth</a></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2019-05-26</span><i class="fa fa-comment-o"></i><a href="/2019/05/26/æ·±åº¦ç†è§£git-rebase/#comments">è¯„è®º</a><i class="fa fa-tag"></i><a href="/categories/tools/" title="tools" class="tag">tools </a><a href="/tags/git/" title="git" class="tag">git </a></div></div></div></div><div class="share"><div class="evernote"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></div><div class="weibo"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></div><div class="twitter"><a href="http://twitter.com/home?status=,http://blog.yinwoods.work/2019/05/26/æ·±åº¦ç†è§£git-rebase/,yinwoods,æ·±åº¦ç†è§£git rebase,;" class="fa fa-twitter"></a></div></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a role="navigation" href="/2019/05/19/Goå®ç°ä¸€ä¸ªè¯»å†™é”/" title="Goå®ç°ä¸€ä¸ªè¯»å†™é”" class="btn">ä¸‹ä¸€ç¯‡</a></li></ul></div><a id="comments"></a><div id="disqus_thread"></div><script>var disqus_shortname = 'yinwoods';
var disqus_identifier = '2019/05/26/æ·±åº¦ç†è§£git-rebase/';
var disqus_title = 'æ·±åº¦ç†è§£git rebase';
var disqus_url = 'http://blog.yinwoods.work/2019/05/26/æ·±åº¦ç†è§£git-rebase/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//yinwoods.disqus.com/count.js" async></script></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>