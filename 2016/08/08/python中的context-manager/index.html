<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="yinwoods,yinwoods#163.com"><title>pythonä¸­çš„context manager Â· yinwoods</title><meta name="description" content="æœ€è¿‘åœ¨è¯»pythonè¿›é˜¶ç±»ä¹¦ç±ã€ŠIntermediate Pythonã€‹ï¼Œçœ‹åˆ°åé¢æœ‰ä¸€ç« è®²åˆ°context managerï¼Œè®²çš„å¾ˆæµ…ï¼Œæˆ‘ä¹Ÿæ²¡çœ‹æ‡‚ã€‚äºæ˜¯è‡ªå·±æŠ½æ—¶é—´æœé›†äº†ç½‘ä¸Šçš„ä¸€äº›èµ„æ–™ï¼Œæ•´ç†å¦‚ä¸‹ï¼š
pythonä¸­çš„context managerä¹Ÿå«åšä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ç¡®ä¿ä»£ç å—å§‹ç»ˆèƒ½å¤Ÿå¾—åˆ°æ­£ç¡®çš„â€˜"><meta name="keywords" content="Hexo,Linux,Python"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">yinwoods</a></h3><div class="description"><p>To Be A Better Man!ğŸ˜ˆ</p></div></div></div><ul class="social-links"><li><a href="http://weibo.com/yinwoods"><i class="fa fa-weibo"></i></a></li><li><a href="http://facebook.com/yinwoods"><i class="fa fa-facebook"></i></a></li><li><a href="http://github.com/yinwoods"><i class="fa fa-github"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">é¦–é¡µ</a></li><li><a href="/archives">å½’æ¡£</a></li><li><a href="/links">å‹é“¾</a></li><li><a href="/about">å…³äº</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img src="/images/favicon.png"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>pythonä¸­çš„context manager</a></h3></div><div class="post-content"><p>æœ€è¿‘åœ¨è¯»pythonè¿›é˜¶ç±»ä¹¦ç±ã€ŠIntermediate Pythonã€‹ï¼Œçœ‹åˆ°åé¢æœ‰ä¸€ç« è®²åˆ°<code>context manager</code>ï¼Œè®²çš„å¾ˆæµ…ï¼Œæˆ‘ä¹Ÿæ²¡çœ‹æ‡‚ã€‚äºæ˜¯è‡ªå·±æŠ½æ—¶é—´æœé›†äº†ç½‘ä¸Šçš„ä¸€äº›èµ„æ–™ï¼Œæ•´ç†å¦‚ä¸‹ï¼š</p>
<p>pythonä¸­çš„<code>context manager</code>ä¹Ÿå«åšä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ç¡®ä¿ä»£ç å—å§‹ç»ˆèƒ½å¤Ÿå¾—åˆ°æ­£ç¡®çš„â€˜å–„åâ€™å¤„ç†ã€‚æœ‰ç‚¹åƒjavaä¸­çš„<code>try     ... catch     ... finally     ...</code></p>
<p>å¯¹äºæ‰“å¼€æ–‡ä»¶è¯»å†™ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ä¸‹é¢çš„å®ç°æ–¹å¼æ›´å¥½ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">with</span> open(<span class="string">'file'</span>) <span class="keyword">as</span> f:</div><div class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</div><div class="line">    	print(line)</div></pre></td></tr></table></figure>
<p>ä½†è¿™ç§æ–¹å¼ä¸ºä»€ä¹ˆæ›´å¥½å‘¢ï¼ŸåŸå› åœ¨äºä½¿ç”¨<code>with</code>å¯ä»¥æ‰§è¡Œ<code>context manager</code>çš„ç›¸åº”å‡½æ•°ï¼Œç¡®ä¿è¢«æ‰“å¼€çš„æ–‡ä»¶å§‹ç»ˆèƒ½å¤Ÿè¢«å…³é—­ã€‚å¦‚æœæˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨<code>open()</code>ã€<code>close()</code>åˆ™å¯èƒ½ä¼šå› ä¸ºä¸­é—´ä»£ç äº§ç”Ÿçš„å¼‚å¸¸å¯¼è‡´<code>close()</code>æ— æ³•æ‰§è¡Œã€‚å› æ­¤ä½¿ç”¨<code>with</code>å¯ä»¥è®©ä»£ç æ—¢ç®€æ´åˆæœ‰æ•ˆã€‚</p>
<p>ä¸‹é¢æ¥ç€è¯´ä¸€è¯´<code>context manager</code>çš„åŠŸèƒ½ä¸ç”¨æ³•ã€‚</p>
<h3 id="ç®¡ç†èµ„æº"><a href="#ç®¡ç†èµ„æº" class="headerlink" title="ç®¡ç†èµ„æº"></a>ç®¡ç†èµ„æº</h3><p><code>context manager</code>æœ€å¸¸è¢«ç”¨äºç®¡ç†èµ„æºï¼Œäº‹å®ä¸Šï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä½¿ç”¨å®ƒçš„åŸå› ã€‚</p>
<p>å½“æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œç¨‹åºä¼šå æœ‰å¯¹åº”çš„èµ„æºï¼ˆæ–‡ä»¶æè¿°ç¬¦ï¼‰ï¼Œè€Œèµ„æºçš„ç®¡ç†åˆ™ç”±æ“ä½œç³»ç»Ÿæ¥å®Œæˆï¼Œä¹Ÿå°±æ˜¯è¯´åŒä¸€æ—¶é—´èƒ½å¤Ÿæ‰“å¼€çš„æ–‡ä»¶æˆ–è¿›ç¨‹æ˜¯æœ‰é™çš„ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè¿è¡Œä¸‹é¢è¿™ä»½ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">files = []</div><div class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">100000</span>):</div><div class="line">    files.append(open(<span class="string">'foo.txt'</span>, <span class="string">'w'</span>))</div></pre></td></tr></table></figure>
<p>åœ¨mac osæˆ–linuxä¸Šè¿è¡Œè¿™ä»½ä»£ç å¾ˆæœ‰å¯èƒ½ä¼šäº§ç”ŸOSErrorè€Œå¯¼è‡´ä¸­æ–­ï¼Œè€Œåœ¨windowsä¸Šè¿è¡Œç¨‹åºåˆ™å¯èƒ½å¯¼è‡´ç³»ç»Ÿç›´æ¥å¡æ­»ã€‚</p>
<p>é‚£ä¹ˆé—®é¢˜çš„åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>ç­”ï¼šæ˜¯<em>å†…å­˜æ³„éœ²ï¼</em> è¿™é‡Œçš„æ³„éœ²åŸå› æ˜¯æŒ‡æ‰“å¼€æ–‡ä»¶åä½†æœªå…³é—­ã€‚</p>
<p>ä¸ºäº†é¿å…å¯¹æ–‡ä»¶æ“ä½œæ—¶äº§ç”Ÿä¸Šè¿°çš„é”™è¯¯ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼š</p>
<blockquote>
<p>1ã€é¿å…åŒæ—¶æ‰“å¼€è¶…è¿‡æ“ä½œç³»ç»Ÿä¸Šé™ä¸ªæ•°ä¸ªæ–‡ä»¶ï¼›</p>
<p>2ã€æ¯æ¬¡æ‰“å¼€æ–‡ä»¶åå…³é—­æ–‡ä»¶ï¼›</p>
</blockquote>
<p>æ¯«æ— ç–‘é—®ï¼Œè¿™é‡Œ2çš„æ“ä½œæ›´å¥½ï¼Œå› ä¸ºèƒ½å¤Ÿæ›´å¥½åœ°å®ç°é«˜å±‚æŠ½è±¡å¹¶è§£å†³å†…å­˜æ³„éœ²é—®é¢˜ã€‚</p>
<p>å…ˆè¯´1ï¼šåœ¨unixä¸Š<code>ulimit -n</code>å¯ä»¥æŸ¥çœ‹åŒæ—¶æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦ä¸Šé™ï¼Œåœ¨å†™ä»£ç æ—¶ç¡®ä¿åŒæ—¶æ‰“å¼€çš„æ–‡ä»¶æ•°ä¸è¶…è¿‡ä¸Šé™å€¼å³å¯ã€‚ä½†æ˜¯è¿™é‡Œå¹¶æ²¡æœ‰è§£å†³æ ¹æœ¬é—®é¢˜ï¼šå†…å­˜æ³„éœ²ï¼</p>
<p>å†è¯´2ï¼šæˆ‘ä»¬å½“ç„¶å¯ä»¥ä¸ºä¸Šé¢çš„ä»£ç æ·»åŠ close()å‡½æ•°ï¼Œå¯æ˜¯å¦‚æœæ‰“å¼€æ–‡ä»¶æˆ–è€…å¯¹æ–‡ä»¶å†…å®¹å¤„ç†æ—¶äº§ç”Ÿå¼‚å¸¸ï¼Œé‚£ä¹ˆåé¢çš„<code>close()</code>å°±æ— æ³•è¢«æ‰§è¡Œï¼Œä»è€Œå¯¼è‡´å†…å­˜æ³„éœ²ã€‚</p>
<p><code>context manager</code>æ­£æ˜¯ç”¨äºå¤„ç†è¿™ç§æƒ…å†µçš„ä¸€ä¸ªæ¥å£ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">with</span> something_that_returns_a_context_manager() <span class="keyword">as</span> my_resource:</div><div class="line">    do_something(my_resource)</div><div class="line">    ...</div><div class="line">    print(<span class="string">'done using my_resource'</span>)</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>with</code>ï¼Œæˆ‘ä»¬å¯ä»¥æ“ä½œä»»ä½•ä¸€ä¸ªè¿”å›ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„å‡½æ•°ï¼ˆä¾‹å¦‚å†…ç½®å‡½æ•°<code>open()</code>ï¼‰ï¼›<code>with</code>èƒ½å¤Ÿä¿è¯å½“ç›¸åº”ä»£ç å—å†…çš„ä»£ç æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œå§‹ç»ˆè°ƒç”¨ä¸€ä¸ªåŒ…å«æ¸…ç†èµ„æºçš„â€˜å–„åâ€™å‡½æ•°ã€‚è¿™ä¸ªâ€˜å–„åâ€™å‡½æ•°å°±å®šä¹‰åœ¨<code>context manager</code>ä¸­ã€‚</p>
<p>å®ç°ä¸€ä¸ªæœ€ç®€å•çš„context manageråªè¦æ±‚åŒ…å«<code>__enter__()</code>å‡½æ•°ä»¥åŠ<code>__exit__()</code>ã€‚</p>
<blockquote>
<p><code>__enter__()</code>æ‰§è¡Œæ“ä½œå¹¶è¿”å›è¢«ç®¡ç†çš„èµ„æºï¼›</p>
<p><code>__exit__()</code>åˆ™æ¸…ç†èµ„æºï¼Œæ— è¿”å›ã€‚</p>
</blockquote>
<p>ä¾‹å¦‚æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹ä»£ç åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„<code>context manager</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">File</span><span class="params">()</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, filename, mode)</span>:</span></div><div class="line">        self.filename = filename</div><div class="line">        self.mode = mode</div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__enter__</span><span class="params">(self)</span>:</span></div><div class="line">        self.open_file = open(self.filename, self.mode)</div><div class="line">        <span class="keyword">return</span> self.open_file</div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__exit__</span><span class="params">(self)</span>:</span></div><div class="line">        self.open_file.close()</div><div class="line">        </div><div class="line">files = []</div><div class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">100000</span>):</div><div class="line">    <span class="keyword">with</span> File(<span class="string">'foo.txt'</span>, <span class="string">'w'</span>) <span class="keyword">as</span> f:</div><div class="line">        files.append(f.write(<span class="string">'foo'</span>))</div></pre></td></tr></table></figure>
<p>è¿™é‡Œ<code>__enter__()</code>æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶è¿”å›ï¼›<code>__exit__()</code>åˆ™å…³é—­æ–‡ä»¶ã€‚</p>
<h3 id="å…¶ä»–æœ‰ç”¨çš„èµ„æºç®¡ç†å™¨"><a href="#å…¶ä»–æœ‰ç”¨çš„èµ„æºç®¡ç†å™¨" class="headerlink" title="å…¶ä»–æœ‰ç”¨çš„èµ„æºç®¡ç†å™¨"></a>å…¶ä»–æœ‰ç”¨çš„èµ„æºç®¡ç†å™¨</h3><p>å¾ˆå¤šåº“ä¸­ä¹ŸåŒ…å«èµ„æºç®¡ç†å™¨ï¼Œä¾‹å¦‚<code>zipfile.ZipFile</code>ã€<code>subprocess.Popen</code>ã€<code>tarfile.TarFile</code>ã€<code>telnet.Telnet</code>ã€<code>pathlib.Path</code>ç­‰ã€‚å…¶å®ï¼Œåœ¨ä½¿ç”¨å®Œèµ„æºä¹‹åè°ƒç”¨<code>close()</code>æ–¹æ³•çš„éƒ½æ˜¯<code>context manager</code>ã€‚</p>
<h3 id="å…³äºcontextlib"><a href="#å…³äºcontextlib" class="headerlink" title="å…³äºcontextlib"></a>å…³äº<code>contextlib</code></h3><p><code>contextlib</code>æ¨¡å—åŒ…å«äº†è®¸å¤šåˆ›å»ºã€ä½¿ç”¨<code>context manager</code>çš„å·¥å…·ã€‚</p>
<p>ä¾‹å¦‚ä½¿ç”¨<code>@contextmanager</code>è£…é¥°å™¨æ¥åˆ›å»ºä¸€ä¸ª<code>context manager</code>ã€‚å…·ä½“çš„åˆ›å»ºæ–¹æ³•æ˜¯ä½¿ç”¨<code>@contextmanager</code>æ¥è£…é¥°åªåŒ…å«ä¸€ä¸ª<code>yield</code>è¯­å¥çš„<code>generator</code>å‡½æ•°ã€‚åœ¨<code>yield</code>ä¹‹å‰çš„éƒ¨åˆ†éƒ½è¢«è§†ä¸º<code>__enter__()</code>å‡½æ•°å†…å®¹ï¼Œè€Œä¹‹åçš„éƒ¨åˆ†åˆ™æ˜¯<code>__exit__()</code>å‡½æ•°å†…å®¹ã€‚ä¸‹é¢è®©æˆ‘ä»¬ç”¨è¿™ç§æ–¹æ³•æ¥é‡å†™<code>File()</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> contextlib <span class="keyword">import</span> contextmanager</div><div class="line"></div><div class="line"><span class="meta">@contextmanager</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">open_file</span><span class="params">(path, mode)</span>:</span></div><div class="line">    the_file = open(path, mode)</div><div class="line">    <span class="keyword">yield</span> the_file</div><div class="line">    the_file.close()</div><div class="line">    </div><div class="line">files = []</div><div class="line"></div><div class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">100000</span>):</div><div class="line">    <span class="keyword">with</span> open_file(<span class="string">'foo.txt'</span>, <span class="string">'w'</span>) <span class="keyword">as</span> f:</div><div class="line">        files.append(f)</div></pre></td></tr></table></figure>
<p>å¯¹æ¯”åå¯ä»¥å‘ç°ä½¿ç”¨è¿™ç§æ–¹æ³•çš„ä»£ç æ›´åŠ ç®€æ´ã€‚</p>
<p>å¦å¤–æœ‰ä¸€ä¸ªå¾ˆç®€å•çš„ä¾‹å­å¯ä»¥å¸®åŠ©ä½ ç†è§£<code>@contextmanager</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> contextlib <span class="keyword">import</span> contextmanager</div><div class="line"></div><div class="line"><span class="meta">@contextmanager</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">tag</span><span class="params">(name)</span>:</span></div><div class="line">    print(<span class="string">"&lt;%s&gt;"</span> % name)</div><div class="line">    <span class="keyword">yield</span></div><div class="line">    print(<span class="string">"&lt;/%s&gt;"</span> % name)</div><div class="line">    </div><div class="line"><span class="keyword">with</span> tag(<span class="string">"h1"</span>):</div><div class="line">    print(<span class="string">"hello, world!"</span>)</div></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š<code>&lt;h1&gt;hello, world!&lt;/h1&gt;</code></p>
<p>å¦å¤–ä¹Ÿå¯ä»¥é€šè¿‡<code>contextlib.ContextDecorator</code>æ¥å®ç°è‡ªå·±çš„<code>context manager</code>è£…é¥°å™¨ã€‚ä¾‹å¦‚æ¥ç€ä½¿ç”¨ä¸Šé¢çš„ä¾‹å­æ¥è¯´æ˜ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> contextlib <span class="keyword">import</span> ContextDecorator</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">makeparagraph</span><span class="params">(ContextDecorator)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__enter__</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">'&lt;p&gt;'</span>)</div><div class="line">        <span class="keyword">return</span> self</div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__exit__</span><span class="params">(self, *exc)</span>:</span></div><div class="line">        print(<span class="string">'&lt;/p&gt;'</span>)</div><div class="line">        <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line">        </div><div class="line"><span class="meta">@makeparagraph</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">emit_html</span><span class="params">()</span>:</span></div><div class="line">    print(<span class="string">'Here is some non-HTML'</span>)</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œ<code>emit_html()</code><br>ä¼šè¾“å‡º<code>&lt;p&gt;Here is some non-HTML&lt;/p&gt;</code></p>
<h3 id="å‚è€ƒæ–‡ç« ï¼š"><a href="#å‚è€ƒæ–‡ç« ï¼š" class="headerlink" title="å‚è€ƒæ–‡ç« ï¼š"></a>å‚è€ƒæ–‡ç« ï¼š</h3><blockquote>
<ul>
<li><p><a href="https://www.python.org/dev/peps/pep-0343/" target="_blank" rel="external">PEP 34</a></p>
</li>
<li><p><a href="https://jeffknupp.com/blog/2016/03/07/python-with-context-managers/" target="_blank" rel="external">Python with Context Managers</a></p>
</li>
</ul>
</blockquote>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2016-08-08</span><i class="fa fa-comment-o"></i><a href="/2016/08/08/pythonä¸­çš„context-manager/#comments">è¯„è®º</a><i class="fa fa-tag"></i><a href="/categories/coding/" title="coding" class="tag">coding </a><a href="/tags/python/" title="python" class="tag">python </a></div></div></div></div><div class="share"><div class="evernote"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></div><div class="weibo"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></div><div class="twitter"><a href="http://twitter.com/home?status=,http://blog.yinwoods.work/2016/08/08/pythonä¸­çš„context-manager/,yinwoods,pythonä¸­çš„context manager,;" class="fa fa-twitter"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a role="navigation" href="/2016/09/26/å®ä¹ æ€»ç»“/" title="å®ä¹ æ€»ç»“" class="btn">ä¸Šä¸€ç¯‡</a></li><li class="next pagbuttons"><a role="navigation" href="/2016/07/27/pythonçˆ¬è™«requestsç™»å½•è§£å†³422é”™è¯¯/" title="pythonçˆ¬è™«requestsç™»å½•è§£å†³422é”™è¯¯" class="btn">ä¸‹ä¸€ç¯‡</a></li></ul></div><a id="comments"></a><div id="disqus_thread"></div><script>var disqus_shortname = 'yinwoods';
var disqus_identifier = '2016/08/08/pythonä¸­çš„context-manager/';
var disqus_title = 'pythonä¸­çš„context manager';
var disqus_url = 'http://blog.yinwoods.work/2016/08/08/pythonä¸­çš„context-manager/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//yinwoods.disqus.com/count.js" async></script></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>